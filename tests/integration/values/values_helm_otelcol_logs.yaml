sumologic:
  setupEnabled: true
  accessId: "dummy"
  accessKey: "dummy"
  endpoint: http://receiver-mock.receiver-mock:3000/terraform/api/

  logs:
    metadata:
      provider: otelcol

  metrics:
    enabled: false

# We're using otelcol instead
fluent-bit:
  enabled: false

fluentd:
  events:
    enabled: false
  
# Request less resources so that this fits on Github actions runners environment
metadata:
  persistence:
    size: 128Mi
  logs:
    logLevel: debug
    statefulset:
      resources:
        requests:
          cpu: 100m
          memory: 128Mi

otellogs:
  enabled: true
  config:
    service:
      pipelines:
        logs/containers:
          receivers:
            - filelog/containers
          exporters:
            - otlphttp
          processors:
            - filter/exclude_receiver_mock_container
    processors:
      # Filter out receiver-mock logs to prevent snowball effect
      filter/exclude_receiver_mock_container:
        logs:
          exclude:
            match_type: strict
            record_attributes:
              - key: k8s.container.name
                value: receiver-mock
